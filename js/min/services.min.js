(function(){"use strict";angular.module("Museum.services",[]).service("sharedProperties",function(r){var e;return e={},{getProperty:function(r){return e[r]},setProperty:function(t,o){return e[t]=o,r.$broadcast("exhibitChange")}}}).service("storySetValidation",function(r,e){return{checkValidity:function(e){return console.log(e),0!==e.item.long_description.length&&e.item.audio&&null!=e.root.number&&e.root.images.length>=1?(this.markValid(e),r.$broadcast("changes_to_save",e)):this.markInvalid(e)},markInvalid:function(t){return console.log("invalid"),"published"===t.item.status?(t.root.invalid=!0,e(function(){return t.item.status="passcode",null!=t.$digest&&t.$digest(),r.$broadcast("changes_to_save",t)},100)):r.$broadcast("changes_to_save",t)},markValid:function(r){return console.log("valid"),r.root.invalid=!1}}}).service("errorProcessing",function(r){return{errors:[],addError:function(e){var t;return t={error:e},this.errors.push(t),r.$broadcast("new_error",this.errors)},getErrors:function(){return this.errors},clearErrors:function(){return this.errors=[],r.$broadcast("new_error",this.errors)},deleteError:function(e){return this.errors.splice(e,1),r.$broadcast("new_error",this.errors)}}})}).call(this);